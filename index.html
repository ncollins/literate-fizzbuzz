<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8" /><title>Fizzbuzz in Literate Racket</title><link rel="stylesheet" type="text/css" href="scribble.css" title="default" /><link rel="stylesheet" type="text/css" href="racket.css" title="default" /><link rel="stylesheet" type="text/css" href="scribble-style.css" title="default" /><script type="text/javascript" src="scribble-common.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="scribble-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist" style="margin-bottom: 1em;"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;">&bull;</td><td></td><td><a href="" class="tocviewselflink" data-pltdoc="x">Fizzbuzz in Literate Racket</a></td></tr></table></div></div></div><div class="tocsub"><table class="tocsublist" cellspacing="0"><tr><td><span class="Smaller"><a href="#%28elem._%28chunk._~3cloop~3e~3a1%29%29" class="plainlink" data-pltdoc="x">&lt;loop&gt;</a></span></td></tr><tr><td><span class="Smaller"><a href="#%28elem._%28chunk._~3cfb~3e~3a1%29%29" class="plainlink" data-pltdoc="x">&lt;fb&gt;</a></span></td></tr><tr><td><span class="Smaller"><a href="#%28elem._%28chunk._~3cfb-cond~3e~3a1%29%29" class="plainlink" data-pltdoc="x">&lt;fb-cond&gt;</a></span></td></tr><tr><td><span class="Smaller"><a href="#%28elem._%28chunk._~3crequire~3e~3a1%29%29" class="plainlink" data-pltdoc="x">&lt;require&gt;</a></span></td></tr><tr><td><span class="Smaller"><a href="#%28elem._%28chunk._~3c%2A~3e~3a1%29%29" class="plainlink" data-pltdoc="x">&lt;*&gt;</a></span></td></tr></table></div></div><div class="maincolumn"><div class="main"><h2><a name="(part._.Fizzbuzz_in_.Literate_.Racket)"></a>Fizzbuzz in Literate Racket</h2><p>Fizzbuzz is a simple program that counts from 1 to 100 replacing multiples
of 3 with "Fizz", multiples of 5 with "Buzz" and multiples of both 3 and 5 with
"FizzBuzz".</p><p>Essentially, we want to map over the numbers from 1 to 100, applying a function
that converts the multiples of 3 and 5 to the correct word, and then print the
result.</p><p><div class="SIntrapara"><a name="(elem._(chunk._~3cloop~3e~3a1))"></a><span style="font-weight: bold"><span style="font-style: italic"><a href="#%28elem._%28chunk._~3cloop~3e~3a1%29%29" class="plainlink" data-pltdoc="x">&lt;loop&gt;</a></span> ::=</span></div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym">for</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktSym">i</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/streams.html#%28def._%28%28lib._racket%2Fstream..rkt%29._stream-map%29%29" class="RktValLink" data-pltdoc="x">stream-map</a></span><span class="hspace">&nbsp;</span><span class="RktSym">fb</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">in-range</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">101</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">printf</span><span class="hspace">&nbsp;</span><span class="RktVal">"~a\n"</span><span class="hspace">&nbsp;</span><span class="RktSym">i</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote></div></p><p>The function <span class="RktSym">fb</span> is used to transform numbers into the correct
string, e.g. <span class="RktVal">"1"</span>, <span class="RktVal">"2"</span>, <span class="RktVal">"Fizz"</span> ...</p><p>Inside <span class="RktSym">fb</span> we have a local function definition; <span class="RktSym">divides</span>,
returns true if the second argument divides into the first.</p><p><div class="SIntrapara"><a name="(elem._(chunk._~3cfb~3e~3a1))"></a><span style="font-weight: bold"><span style="font-style: italic"><a href="#%28elem._%28chunk._~3cfb~3e~3a1%29%29" class="plainlink" data-pltdoc="x">&lt;fb&gt;</a></span> ::=</span></div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym">define</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">fb</span><span class="hspace">&nbsp;</span><span class="RktSym">n</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/local.html#%28form._%28%28lib._racket%2Flocal..rkt%29._local%29%29" class="RktStxLink" data-pltdoc="x">local</a></span><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym">define</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">divides</span><span class="hspace">&nbsp;</span><span class="RktSym">n</span><span class="hspace">&nbsp;</span><span class="RktSym">m</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">=</span><span class="hspace">&nbsp;</span><span class="RktVal">0</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">modulo</span><span class="hspace">&nbsp;</span><span class="RktSym">n</span><span class="hspace">&nbsp;</span><span class="RktSym">m</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="#%28elem._%28chunk._~3cfb-cond~3e~3a1%29%29" class="plainlink" data-pltdoc="x">&lt;fb-cond&gt;</a><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote></div></p><p>The main body of the function is a single conditional. If the argument is
divisible by both 3 we return <span class="RktVal">"Fizz"</span> and if it is divisible by 5 we
return <span class="RktVal">"Buzz"</span>. If it is divisible by both 3 and 5 (equivalent to being
divisible by 15) we return <span class="RktVal">"FizzBuzz"</span>. If the number is not divisible
by 3 or 5 then we simply convert the number into a string.</p><p><div class="SIntrapara"><a name="(elem._(chunk._~3cfb-cond~3e~3a1))"></a><span style="font-weight: bold"><span style="font-style: italic"><a href="#%28elem._%28chunk._~3cfb-cond~3e~3a1%29%29" class="plainlink" data-pltdoc="x">&lt;fb-cond&gt;</a></span> ::=</span></div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym">cond</span><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym">divides</span><span class="hspace">&nbsp;</span><span class="RktSym">n</span><span class="hspace">&nbsp;</span><span class="RktVal">15</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">"FizzBuzz"</span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym">divides</span><span class="hspace">&nbsp;</span><span class="RktSym">n</span><span class="hspace">&nbsp;</span><span class="RktVal">5</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">"Buzz"</span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym">divides</span><span class="hspace">&nbsp;</span><span class="RktSym">n</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">"Fizz"</span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktSym">else</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">number-&gt;string</span><span class="hspace">&nbsp;</span><span class="RktSym">n</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr></table></blockquote></div></p><p><span class="RktSym">scribble-lp</span> uses <span class="RktSym">racket/base</span> rather
than <span class="RktSym">racket</span>, so we need to include the modules for the <span class="RktSym"><a href="http://docs.racket-lang.org/reference/local.html#%28form._%28%28lib._racket%2Flocal..rkt%29._local%29%29" class="RktStxLink" data-pltdoc="x">local</a></span>
and <span class="RktSym"><a href="http://docs.racket-lang.org/reference/streams.html#%28def._%28%28lib._racket%2Fstream..rkt%29._stream-map%29%29" class="RktValLink" data-pltdoc="x">stream-map</a></span> functions.</p><p><div class="SIntrapara"><a name="(elem._(chunk._~3crequire~3e~3a1))"></a><span style="font-weight: bold"><span style="font-style: italic"><a href="#%28elem._%28chunk._~3crequire~3e~3a1%29%29" class="plainlink" data-pltdoc="x">&lt;require&gt;</a></span> ::=</span></div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym">require</span><span class="hspace">&nbsp;</span><span class="RktSym">racket/local</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym">require</span><span class="hspace">&nbsp;</span><span class="RktSym">racket/stream</span><span class="RktPn">)</span></td></tr></table></blockquote></div></p><p>The <a href="#%28elem._%28chunk._~3c%2A~3e~3a1%29%29" class="plainlink" data-pltdoc="x">&lt;*&gt;</a> chunk is then used to pull all the parts of the program together.</p><p><div class="SIntrapara"><a name="(elem._(chunk._~3c*~3e~3a1))"></a><span style="font-weight: bold"><span style="font-style: italic"><a href="#%28elem._%28chunk._~3c%2A~3e~3a1%29%29" class="plainlink" data-pltdoc="x">&lt;*&gt;</a></span> ::=</span></div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" class="RktBlk"><tr><td><a href="#%28elem._%28chunk._~3crequire~3e~3a1%29%29" class="plainlink" data-pltdoc="x">&lt;require&gt;</a></td></tr><tr><td><a href="#%28elem._%28chunk._~3cfb~3e~3a1%29%29" class="plainlink" data-pltdoc="x">&lt;fb&gt;</a></td></tr><tr><td><a href="#%28elem._%28chunk._~3cloop~3e~3a1%29%29" class="plainlink" data-pltdoc="x">&lt;loop&gt;</a></td></tr></table></blockquote></div></p></div></div><div id="contextindicator">&nbsp;</div></body></html>